{"pcVersion":"6.0","pcUuid":"07824da8-f44a-444b-b842-3e2e373590ae","hashValue":"UY0a2+wD2Z6se+Z/vpDki6IXeBr3MDVL7mJLJ/+jEAw=","actionRuleList":[{"uuid":"568b8ada-720b-4dbb-5c23-f9368abae349","name":"Apply Category by OS","isEnabled":false,"validated":false,"executionUserName":"admin","executionUserUuid":"00000000-0000-0000-0000-000000000000","triggerList":[{"uuid":"ee1c7974-5976-40d2-a059-8efbb992272c","triggerType":{"type":"trigger_type","uuid":"","name":"event_trigger"},"displayName":"Event","inputParameterList":[{"name":"operation_type","value":"1"},{"name":"type","value":"VmCreateAudit"},{"name":"category_filter_list","value":"[]"},{"name":"source_entity_info_list","value":"[]"}]}],"actionList":[{"uuid":"80b867c6-43dc-404c-9594-7756494a36f8","actionType":{"type":"action_type","uuid":"","name":"wait_for_duration"},"displayName":"Wait for Some Time","inputParameterList":[{"name":"block_resume","value":"false"},{"name":"post_check_trigger_validity","value":"false"},{"name":"stop_after_time","value":"false"},{"name":"wait_duration","value":"720"}],"maxRetries":2,"description":"Wait for OS to be determined","postCheckTriggerValidity":false,"childActionUuids":["d1fb3419-a2ce-4f22-b159-e3e14a5d4499"]},{"uuid":"d1fb3419-a2ce-4f22-b159-e3e14a5d4499","actionType":{"type":"action_type","uuid":"","name":"rest_api_action"},"displayName":"REST API","inputParameterList":[{"name":"url","value":"https://localhost:9440/api/nutanix/v3/vms/{{trigger[0].source_entity_info.uuid}}"},{"name":"headers","value":"Content-Type:application/json"},{"name":"username","value":"admin"},{"name":"password","value":""},{"name":"method","value":"GET"}],"maxRetries":2,"description":"Get VM Details","childActionUuids":["062a09d2-fbc1-4f9a-9cac-f77011a38cfd"]},{"uuid":"062a09d2-fbc1-4f9a-9cac-f77011a38cfd","actionType":{"type":"action_type","uuid":"","name":"parse_action"},"displayName":"String Parser","inputParameterList":[{"name":"json_path","value":"$.status.resources.guest_tools.nutanix_guest_tools.guest_os_version"},{"name":"string_to_parse","value":"{{action[1].response_body}}"},{"name":"format","value":"json"}],"maxRetries":2,"description":"Get VM OS","childActionUuids":["70b5e62e-e799-4ca5-9173-b7482912e7a2"]},{"uuid":"70b5e62e-e799-4ca5-9173-b7482912e7a2","actionType":{"type":"action_type","uuid":"","name":"branch_action"},"displayName":"Branch","inputParameterList":[{"name":"values","value":"[\"{{action[2].parsed_data}}\",\".*windows.*\",\"{{action[2].parsed_data}}\",\".*linux.*\",\"{{action[2].parsed_data}}\",\"^$\"]"},{"name":"branch","value":"[\"41a00a1c-f417-42ca-9d86-73f420a910fd\",\"8e446594-40b5-4cbe-a5a6-cdc706345c93\",\"e62015e0-c19b-4d96-afcc-31613472c126\"]"},{"name":"condition","value":"[\"if\",\"if\",\"if\"]"},{"name":"conditional_expression","value":"[\"{0}=regexp={1}\",\"{2}=regexp={3}\",\"{4}=regexp={5}\"]"}],"maxRetries":2,"description":"OS contains Windows@|OS contains Linux@|OS is NULL","childActionUuids":["41a00a1c-f417-42ca-9d86-73f420a910fd","8e446594-40b5-4cbe-a5a6-cdc706345c93","e62015e0-c19b-4d96-afcc-31613472c126"]},{"uuid":"41a00a1c-f417-42ca-9d86-73f420a910fd","actionType":{"type":"action_type","uuid":"","name":"add_category_action"},"displayName":"Add to Category","inputParameterList":[{"name":"target_vm","value":"{{trigger[0].source_entity_info}}"},{"name":"category_entity_info","value":"[]"},{"name":"entity_type","value":"vm"}],"maxRetries":2,"description":"Windows Category"},{"uuid":"8e446594-40b5-4cbe-a5a6-cdc706345c93","actionType":{"type":"action_type","uuid":"","name":"add_category_action"},"displayName":"Add to Category","inputParameterList":[{"name":"target_vm","value":"{{trigger[0].source_entity_info}}"},{"name":"category_entity_info","value":"[]"},{"name":"entity_type","value":"vm"}],"maxRetries":2,"description":"Linux Category"},{"uuid":"e62015e0-c19b-4d96-afcc-31613472c126","actionType":{"type":"action_type","uuid":"","name":"add_category_action"},"displayName":"Add to Category","inputParameterList":[{"name":"target_vm","value":"{{trigger[0].source_entity_info}}"},{"name":"category_entity_info","value":"[]"},{"name":"entity_type","value":"vm"}],"maxRetries":2,"description":"Null Category"}],"lastUpdateUser":"admin","validationErrorList":[{"componentType":"action","componentName":"add_category_action","instanceUuid":"41a00a1c-f417-42ca-9d86-73f420a910fd","parameterErrorList":[{"parameterName":"category_entity_info","errorObject":{"errorMsg":"Required field %s is missing","paramList":["Category"]}}]},{"componentType":"action","componentName":"add_category_action","instanceUuid":"8e446594-40b5-4cbe-a5a6-cdc706345c93","parameterErrorList":[{"parameterName":"category_entity_info","errorObject":{"errorMsg":"Required field %s is missing","paramList":["Category"]}}]},{"componentType":"action","componentName":"add_category_action","instanceUuid":"e62015e0-c19b-4d96-afcc-31613472c126","parameterErrorList":[{"parameterName":"category_entity_info","errorObject":{"errorMsg":"Required field %s is missing","paramList":["Category"]}}]}],"isPrepackaged":false,"checkTriggerValidity":true,"triggerFilterableInputParamName":"type","triggerFilterableInputParamValue":"VmCreateAudit","ruleType":"kXPlay"}]}