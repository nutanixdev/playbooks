{"pcVersion":"5.19","pcUuid":"4cd314b3-e0a4-425d-a9df-bf6dc6904af4","hashValue":"Juaz4aB5RCbnyCWOak0IjqmYH9PwvfP74PhCfc72ayo=","actionRuleList":[{"uuid":"4945ee77-e825-41d3-914d-3806e8cf3699","name":"Change VM to PXE Boot","isEnabled":true,"validated":true,"executionUserName":"admin","executionUserUuid":"00000000-0000-0000-0000-000000000000","triggerList":[{"uuid":"26e30912-55b3-4316-8949-abfd84c2643c","triggerType":{"type":"trigger_type","uuid":"","name":"manual_trigger"},"displayName":"Manual","inputParameterList":[{"name":"entity_type","value":"vm"}]}],"actionList":[{"uuid":"1d52f41f-9f3d-445b-ab4e-252299655047","actionType":{"type":"action_type","uuid":"","name":"vm_power_off_action"},"displayName":"Power Off VM","inputParameterList":[{"name":"target_vm","value":"{{trigger[0].source_entity_info}}"},{"name":"power_state_mechanism","value":"hard"}],"maxRetries":2,"childActionUuids":["8f771b94-9efb-44d9-a596-fb7d03ec4025"]},{"uuid":"8f771b94-9efb-44d9-a596-fb7d03ec4025","actionType":{"type":"action_type","uuid":"","name":"rest_api_action"},"displayName":"REST API","inputParameterList":[{"name":"url","value":"https://localhost:9440/api/nutanix/v3/vms/{{trigger[0].source_entity_info.uuid}}"},{"name":"username","value":"admin"},{"name":"password","value":""},{"name":"method","value":"GET"}],"maxRetries":2,"description":"Get VM Info","childActionUuids":["93bff41e-2a93-4c97-af5c-b3d22a8eaf55"]},{"uuid":"93bff41e-2a93-4c97-af5c-b3d22a8eaf55","actionType":{"type":"action_type","uuid":"","name":"parse_action"},"displayName":"String Parser","inputParameterList":[{"name":"json_path","value":"$.status.resources.nic_list[0].mac_address"},{"name":"string_to_parse","value":"{{action[1].response_body}}"},{"name":"format","value":"json"}],"maxRetries":2,"description":"VM MAC Address","childActionUuids":["4b99fb96-928c-4f60-8d40-f6e45b6dec84"]},{"uuid":"4b99fb96-928c-4f60-8d40-f6e45b6dec84","actionType":{"type":"action_type","uuid":"","name":"parse_action"},"displayName":"String Parser","inputParameterList":[{"name":"json_path","value":"$.status.cluster_reference.uuid"},{"name":"string_to_parse","value":"{{action[1].response_body}}"},{"name":"format","value":"json"}],"maxRetries":2,"description":"VM Cluster UUID","childActionUuids":["bfff8889-d7e5-4810-9e0e-165d015ac345"]},{"uuid":"bfff8889-d7e5-4810-9e0e-165d015ac345","actionType":{"type":"action_type","uuid":"","name":"rest_api_action"},"displayName":"REST API","inputParameterList":[{"name":"url","value":"https://localhost:9440/api/nutanix/v3/clusters/{{action[3].parsed_data}}"},{"name":"username","value":"admin"},{"name":"password","value":""},{"name":"method","value":"GET"}],"maxRetries":2,"description":"Get Cluster Info","childActionUuids":["3858e0a4-5ce1-49d8-8ca7-e6bbac0bb8d7"]},{"uuid":"3858e0a4-5ce1-49d8-8ca7-e6bbac0bb8d7","actionType":{"type":"action_type","uuid":"","name":"parse_action"},"displayName":"String Parser","inputParameterList":[{"name":"json_path","value":"$.status.resources.network.external_ip"},{"name":"string_to_parse","value":"{{action[4].response_body}}"},{"name":"format","value":"json"}],"maxRetries":2,"description":"Cluster VIP","childActionUuids":["282b058d-1285-4275-bb6e-86a0e9f8da62"]},{"uuid":"282b058d-1285-4275-bb6e-86a0e9f8da62","actionType":{"type":"action_type","uuid":"","name":"ssh_using_ipaddr"},"displayName":"IP Address SSH","inputParameterList":[{"name":"username","value":"admin"},{"name":"password","value":""},{"name":"ip_addr","value":"{{action[5].parsed_data}}"},{"name":"ssh_command","value":"acli vm.update_boot_device \"{{trigger[0].source_entity_info.name}}\" mac_addr=\"{{action[2].parsed_data}}\""}],"maxRetries":2,"description":"Update VM to Boot from PXE","childActionUuids":["77bb553f-f08f-4d35-bd81-5d03897c0b16"]},{"uuid":"77bb553f-f08f-4d35-bd81-5d03897c0b16","actionType":{"type":"action_type","uuid":"","name":"wait_for_duration"},"displayName":"Wait for Some Time","inputParameterList":[{"name":"block_resume","value":"false"},{"name":"post_check_trigger_validity","value":"false"},{"name":"stop_after_time","value":"false"},{"name":"wait_duration","value":"1"}],"maxRetries":2,"description":"1 Minute","postCheckTriggerValidity":false,"childActionUuids":["5b1d2f3e-b089-4588-af0c-aaf9cd2697c0"]},{"uuid":"5b1d2f3e-b089-4588-af0c-aaf9cd2697c0","actionType":{"type":"action_type","uuid":"","name":"vm_power_on_action"},"displayName":"Power On VM","inputParameterList":[{"name":"target_vm","value":"{{trigger[0].source_entity_info}}"}],"maxRetries":2}],"lastUpdateUser":"admin","isPrepackaged":false,"checkTriggerValidity":true,"triggerFilterableInputParamName":"entity_type","triggerFilterableInputParamValue":"vm","ruleType":"kXPlay"}]}